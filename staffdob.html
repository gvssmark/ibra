

<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Staff DOB</title>
<script src="https://gvssmark.github.io/ibra/staffdob.js"></script>
<script src="https://gvssmark.github.io/ibra/lcdata.js"></script>
<script src="https://gvssmark.github.io/ibra/iba2021.js"></script>
<script src="https://gvssmark.github.io/ibra/allstaff.js"></script>


<style>
body {width:360px; margin:auto;  box-sizing: border-box;
background:powderblue; border: 1px solid black}
tr:hover{background:red; color:white;  font-size:large;}
table{border-collapse:collapse; border:1px solid black; margin:1px auto; }
button {width:100px; }
td {padding: 0 5px;}
</style>


</head>
<body>

<h1 id='heading' align=center>Data Search</h1>

<input type=text  style=" width: 80%; margin-left:10%; text-color:red; background-color: cyan; border: 1px solid cyan;  border-radius:15px;  height:35px; outline:none; " id='myInput' onkeyup="dispdata()" placeholder="Search here... Minimum 4 Characters"><br>
<p id='getnames'  style="margin-left:1px; font-size:small " ></p>

<script>
harray=["","Searching DOB Data", "Searching LC Data", "Searching IBA 20-21 data"]


dob = staffdob.map(([srno,name,x]) => ({ srno,name, data:srno +"#" + name +"#"+'dob'}))

iba = iba2021.map(([srno,name,x]) => ({ srno,name,  data:srno +"#" + name +"#"+'iba'}))

lcd= lcdata.map(([srno,name,x]) => ({ srno,name,  data:srno +"#" + name +"#"+'lcd' }))


all=[...dob, ...lcd, ...iba]
all=all.sort(function (a,b) {return a.srno - b.srno})

dob=""
lcd=""
iba=""
staffdob=""
iba2021=""
lcdata=""

function dispdata(){

tablebody="<table border=1>"
//toTable = tempData.filter(a => a.name !== '')
let filter = document.getElementById("myInput").value.toLowerCase()
if (filter.length<=4){document.getElementById("getnames").innerHTML="" }
//if (filter.length<=4){document.getElementById("table").innerHTML="" }

if (filter.length>=3){
toTable = all.filter(a => a.data.toLowerCase().replaceAll(" ",'').includes(filter.toLowerCase().replaceAll(" ",'')))
toTable.forEach(function(a){tablebody+="<tr><td>"+ a.data.replaceAll("#","<td>")})

document.getElementById("getnames").innerHTML=tablebody +"</table>"
//document.getElementById("getnames").innerHTML="<table border=0>"+tablebody+"</table>"
}
}


</script>

</body>
</html>
