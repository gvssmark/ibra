<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins&effect=neon|outline|emboss|shadow-multiple">
<title>IBRA Ins 2223</title>
<style>
body{width:360px; margin:auto;}
h2, h4{text-align:center; padding:0; margin-top:0; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); background:yellow;}
#top{position:fixed;  top:0; width:360px;}
.myinput {margin-top: -10px;width: 300px;;margin-left:30px;height: 30px;border-radius: 15px;background-color: cyan;border: 0px;
outline: 0;display: block;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);}
.mod{border:1px solid black; border-collapse: collapse; border-left:none; border-right:none;}

</style>
</head>
<body>
<div id='top'>
<h2>IBRA - INSURANCE 2022-23</h1>
</div>
<div id='tt' style='margin-top:35px; '><br><br>
<input class ='myinput' type='number' id='myInput' placeholder="Enter Your SR NO"></input>
<br>
<button onclick='submitclick()' class ='myinput' >SUBMIT</button>
<br><br>
</div>
<script>
 url = 'https://script.google.com/macros/s/AKfycbxkaYSUygwStIhq9PIXSujYZemAj4lF9FElPYIBwbLeZy-PRAPhsQKisTp8f3JrrlrW6Q/exec'
            async function getMyData() {
                response = await fetch(url)
                data = await response.json()
                tempData = data["user"]
srnos = tempData.sort(function (a, b) { return a.srno - b.srno })                
}
getMyData()              
premiumArray = [
[0,'Not Filled',0,0],
[35913,	"Family",	300000,	0],
[43281,	"Family", 300000,	300000],
[44754,	"Family",	300000,	400000],
[46173,	"Family",	400000,	0],
[53541,	"Family",	400000,	300000],
[55014,	"Family",	400000,	400000],
[58452,	"Family",	400000,	500000],
[27376,	"Self",	300000,	0],
[32326,	"Self",	300000,	300000],
[33316,	"Self",	300000,	400000],
[38940,	"Self",	400000,	0],
[43890,	"Self",	400000,	300000],
[44880,	"Self",	400000,	400000],
[47191,	"Self",	400000,	500000],
[49474,	"Family+Hanicap",	300000,	400000],
[48001,	"Family+Hanicap",	300000,	300000],
]

paobject = premiumArray.map(([premium, type, base, supertop]) => ({ premium, type, base, supertop }))
function submitclick(){
tempsr = input = document.getElementById("myInput").value*1
rowclick(tempsr)
input = document.getElementById("myInput").value=""
}
function rowclick(id){
rowdat = tempData.filter(a=> a.srno === id*1)
pamt = rowdat[0].premium ==="" ? 0 : rowdat[0].premium
ptable =  paobject.filter(a => a.premium === pamt)
inddata =`<table class='mod' BORDER=1><tr><td>Name: ${rowdat[0].name}
<tr><td>Premium: Rs.${rowdat[0].premium}
<tr><td>Policy Type: ${ptable[0].type}
<tr><td>Base / Super Topup: Rs.${ptable[0].base} / Rs.${ptable[0].supertop} 
<tr><td>SR No / Memb No:${rowdat[0].srno} / ${rowdat[0].membno}
<tr><td>Date of Birth / Gender: ${rowdat[0].dob} / ${rowdat[0].gender}
<tr><td>Bank Name: ${rowdat[0].bank}
<tr><td>Mobile No: ${rowdat[0].mobile}
<tr><td>Email: ${rowdat[0].email}
<tr><td>Adhar / PAN: ${rowdat[0].adhar} / ${rowdat[0].pan}
<tr><td>Address:${rowdat[0].add}, ${rowdat[0].city} - ${rowdat[0].pin} 
<tr><td>Spouse Name:${rowdat[0].spname}
<tr><td>Spouse Gender / DOB :${rowdat[0].spgender} /  ${rowdat[0].spdob}
<tr><td>Nominee Name:${rowdat[0].nom}
<tr><td>Nominee Gender / DOB :${rowdat[0].nomgender} / ${rowdat[0].nomdob}
<tr><td>Nominee Relation:${rowdat[0].nomrelation}`
document.getElementById("tt").innerHTML=inddata +"</table>"
}
</script>
</body>
</html>

