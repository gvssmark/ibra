


<!DOCTYPE html>
<html>
<head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

body {width:360px; margin:auto;}
table {border-collapse: collapse; width: 360px; margin-left: 1px;margin-right: 1px; border: 5px soild black;font-size: large; border-right:none; border-left:none;}
.clr {color:red}
h2 {text-align:center;}
#myInput {
            margin-top: -10px;
            width: 300px;;
            margin-left:30px;
            height: 30px;
            border-radius: 15px;
            background-color: cyan;
            border: 0px;
            outline: 0;
            display: block;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
            
        }
        #top{position:fixed; background:yellow; top:0; width:360px;}
        #report{margin-top:180px;}
        
        
</style>


</head>
<body>
<div id='top'>

<h2>IBRA INSURANCE 22-23</h1>
<h2>CORRECTIONS TO DATA</h1>
<input type='number' id='myInput' onkeyup="fiterName()" placeholder="Search SR Number here..."></input>


</div>
<p id='report'></p>
<script>

url = 'https://script.google.com/macros/s/AKfycbxUDQRu-NlYI9bcDP72iyoyaaDUMIae1q2zqEth-zktyYppABl6iM8uPJ3ZstRggAj8/exec'
            async function getMyData() {
                response = await fetch(url)
                data = await response.json()
                tempData = data["user"]
                
//document.getElementById('report').innerHTML= totable(tempData)
totable()
} 


getMyData()


function totable(){
tabdata=''
tempData.forEach(function(a) { tabdata += `<tr><td><b>SR No  ${a.col1} </b><br> Name: ${a.col2}<br> Field: ${a.col3}<br><SPAN class='clr'> Correction: ${a.col4} </span><br>
Status: ${a.col5}

`})                
document.getElementById('report').innerHTML =`<table id='regionTable' border=1 ><tr><td> SR No / Name / To be corrected / New Data ${tabdata}  </table>`              


}





 function fiterName() {
                var input, filter, table, tr, td, i, txtValue;
                input ="SR No "+ document.getElementById("myInput").value;
                filter = input.toUpperCase().replaceAll(" ","");
                table = document.getElementById("regionTable");
                tr = table.getElementsByTagName("tr");
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().replaceAll(" ","").indexOf(filter) > -1) {
                            tr[i].style.display = "";
                        } else {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }




</script>


</body>
</html>

